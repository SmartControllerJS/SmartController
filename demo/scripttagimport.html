<!doctype html>
<html>
    <head>
        <meta charset="utf-8"/>
    </head>
    <body>
        
        <div id="qrcode"></div>

       
    <script src="../dist/smartcontroller.min.js"> </script>

    <script>

        var simplePeer;
        window.addEventListener('load', function() { // I'm only using this to make sure the script is loaded so if you have a better way you can screp this line
            simplePeer = new smartcontroller.JoystickSmartController(12345); //you should call this line and next line only once so you dont want it in the update loop, also not sure if having 1 as an id is long enough never thought of it
            simplePeer.createQrCode('https://emmapoliakova.github.io/webpack-test/joystick.html', 'qrcode', 150, 150, '1');
            

            simplePeer.on("connection", function(data){ // this can also be outside the update loop that is a listener on it's own
                console.log(simplePeer.controllerList)
            })
        })

        function printj(){
            for (var key in simplePeer.controllerList){
                    
                    var joystick = simplePeer.controllerList[key]
                    console.log(joystick)
                }
            requestAnimationFrame(printj);
        }


    </script>
        
    </body>
    </html>